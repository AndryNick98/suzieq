description: 'Testing verbs for bgp: show summarize unique assert'
tests:
- command: bgp show --format=json
  data-directory: tests/data/nxos/parquet-out/
  marks: bgp show nxos
  output: '[{"namespace": "nxos", "hostname": "firewall01", "vrf": "default", "peer":
    "eth2.4", "peerHostname": "exit02", "state": "Established", "afi": "ipv4", "safi":
    "unicast", "asn": 65533, "peerAsn": 64520, "pfxRx": 6, "pfxTx": 10, "numChanges":
    1, "estdTime": 1616416132000, "timestamp": 1616541713967}, {"namespace": "nxos",
    "hostname": "firewall01", "vrf": "default", "peer": "eth2.3", "peerHostname":
    "exit02", "state": "Established", "afi": "ipv4", "safi": "unicast", "asn": 65533,
    "peerAsn": 64520, "pfxRx": 3, "pfxTx": 10, "numChanges": 1, "estdTime": 1616416132000,
    "timestamp": 1616541713967}, {"namespace": "nxos", "hostname": "firewall01", "vrf":
    "default", "peer": "eth2.2", "peerHostname": "exit02", "state": "Established",
    "afi": "ipv4", "safi": "unicast", "asn": 65533, "peerAsn": 64520, "pfxRx": 0,
    "pfxTx": 10, "numChanges": 1, "estdTime": 1616416133000, "timestamp": 1616541713967},
    {"namespace": "nxos", "hostname": "firewall01", "vrf": "default", "peer": "eth1.4",
    "peerHostname": "exit01", "state": "Established", "afi": "ipv4", "safi": "unicast",
    "asn": 65533, "peerAsn": 64520, "pfxRx": 6, "pfxTx": 10, "numChanges": 1, "estdTime":
    1616416132000, "timestamp": 1616541713967}, {"namespace": "nxos", "hostname":
    "firewall01", "vrf": "default", "peer": "eth1.3", "peerHostname": "exit01", "state":
    "Established", "afi": "ipv4", "safi": "unicast", "asn": 65533, "peerAsn": 64520,
    "pfxRx": 3, "pfxTx": 10, "numChanges": 1, "estdTime": 1616416134000, "timestamp":
    1616541713967}, {"namespace": "nxos", "hostname": "firewall01", "vrf": "default",
    "peer": "eth1.2", "peerHostname": "exit01", "state": "Established", "afi": "ipv4",
    "safi": "unicast", "asn": 65533, "peerAsn": 64520, "pfxRx": 0, "pfxTx": 10, "numChanges":
    1, "estdTime": 1616416133000, "timestamp": 1616541713967}, {"namespace": "nxos",
    "hostname": "dcedge01", "vrf": "default", "peer": "169.254.127.1", "peerHostname":
    "exit01", "state": "Established", "afi": "ipv4", "safi": "unicast", "asn": 65534,
    "peerAsn": 64520, "pfxRx": 4, "pfxTx": 6, "numChanges": 0, "estdTime": 1616222032445,
    "timestamp": 1616541716445}, {"namespace": "nxos", "hostname": "dcedge01", "vrf":
    "default", "peer": "169.254.127.3", "peerHostname": "exit02", "state": "Established",
    "afi": "ipv4", "safi": "unicast", "asn": 65534, "peerAsn": 64520, "pfxRx": 4,
    "pfxTx": 6, "numChanges": 0, "estdTime": 1616222036445, "timestamp": 1616541716445},
    {"namespace": "nxos", "hostname": "spine01", "vrf": "default", "peer": "10.0.0.11",
    "peerHostname": "leaf01", "state": "Established", "afi": "l2vpn", "safi": "evpn",
    "asn": 64520, "peerAsn": 64520, "pfxRx": 8, "pfxTx": 32, "numChanges": 1, "estdTime":
    1616221943819, "timestamp": 1616541719819}, {"namespace": "nxos", "hostname":
    "spine01", "vrf": "default", "peer": "10.0.0.12", "peerHostname": "leaf02", "state":
    "Established", "afi": "ipv4", "safi": "unicast", "asn": 64520, "peerAsn": 64520,
    "pfxRx": 0, "pfxTx": 0, "numChanges": 1, "estdTime": 1616221946819, "timestamp":
    1616541719819}, {"namespace": "nxos", "hostname": "spine01", "vrf": "default",
    "peer": "10.0.0.12", "peerHostname": "leaf02", "state": "Established", "afi":
    "l2vpn", "safi": "evpn", "asn": 64520, "peerAsn": 64520, "pfxRx": 8, "pfxTx":
    32, "numChanges": 1, "estdTime": 1616221946819, "timestamp": 1616541719819}, {"namespace":
    "nxos", "hostname": "spine01", "vrf": "default", "peer": "10.0.0.13", "peerHostname":
    "leaf03", "state": "Established", "afi": "ipv4", "safi": "unicast", "asn": 64520,
    "peerAsn": 64520, "pfxRx": 0, "pfxTx": 0, "numChanges": 1, "estdTime": 1616221946819,
    "timestamp": 1616541719819}, {"namespace": "nxos", "hostname": "spine01", "vrf":
    "default", "peer": "10.0.0.13", "peerHostname": "leaf03", "state": "Established",
    "afi": "l2vpn", "safi": "evpn", "asn": 64520, "peerAsn": 64520, "pfxRx": 8, "pfxTx":
    32, "numChanges": 1, "estdTime": 1616221946819, "timestamp": 1616541719819}, {"namespace":
    "nxos", "hostname": "spine01", "vrf": "default", "peer": "10.0.0.14", "peerHostname":
    "leaf04", "state": "Established", "afi": "ipv4", "safi": "unicast", "asn": 64520,
    "peerAsn": 64520, "pfxRx": 0, "pfxTx": 0, "numChanges": 1, "estdTime": 1616221947819,
    "timestamp": 1616541719819}, {"namespace": "nxos", "hostname": "spine01", "vrf":
    "default", "peer": "10.0.0.14", "peerHostname": "leaf04", "state": "Established",
    "afi": "l2vpn", "safi": "evpn", "asn": 64520, "peerAsn": 64520, "pfxRx": 8, "pfxTx":
    32, "numChanges": 1, "estdTime": 1616221947819, "timestamp": 1616541719819}, {"namespace":
    "nxos", "hostname": "spine01", "vrf": "default", "peer": "10.0.0.31", "peerHostname":
    "exit01", "state": "Established", "afi": "ipv4", "safi": "unicast", "asn": 64520,
    "peerAsn": 64520, "pfxRx": 1, "pfxTx": 0, "numChanges": 9, "estdTime": 1616421060819,
    "timestamp": 1616541719819}, {"namespace": "nxos", "hostname": "spine01", "vrf":
    "default", "peer": "10.0.0.31", "peerHostname": "exit01", "state": "Established",
    "afi": "l2vpn", "safi": "evpn", "asn": 64520, "peerAsn": 64520, "pfxRx": 4, "pfxTx":
    36, "numChanges": 9, "estdTime": 1616421060819, "timestamp": 1616541719819}, {"namespace":
    "nxos", "hostname": "spine01", "vrf": "default", "peer": "10.0.0.32", "peerHostname":
    "exit02", "state": "Established", "afi": "ipv4", "safi": "unicast", "asn": 64520,
    "peerAsn": 64520, "pfxRx": 1, "pfxTx": 0, "numChanges": 1, "estdTime": 1616221954819,
    "timestamp": 1616541719819}, {"namespace": "nxos", "hostname": "spine01", "vrf":
    "default", "peer": "10.0.0.32", "peerHostname": "exit02", "state": "Established",
    "afi": "l2vpn", "safi": "evpn", "asn": 64520, "peerAsn": 64520, "pfxRx": 4, "pfxTx":
    36, "numChanges": 1, "estdTime": 1616221954819, "timestamp": 1616541719819}, {"namespace":
    "nxos", "hostname": "spine01", "vrf": "default", "peer": "10.0.0.11", "peerHostname":
    "leaf01", "state": "Established", "afi": "ipv4", "safi": "unicast", "asn": 64520,
    "peerAsn": 64520, "pfxRx": 0, "pfxTx": 0, "numChanges": 1, "estdTime": 1616221943819,
    "timestamp": 1616541719819}, {"namespace": "nxos", "hostname": "spine02", "vrf":
    "default", "peer": "10.0.0.11", "peerHostname": "leaf01", "state": "Established",
    "afi": "ipv4", "safi": "unicast", "asn": 64520, "peerAsn": 64520, "pfxRx": 0,
    "pfxTx": 0, "numChanges": 1, "estdTime": 1616221944916, "timestamp": 1616541719916},
    {"namespace": "nxos", "hostname": "spine02", "vrf": "default", "peer": "10.0.0.11",
    "peerHostname": "leaf01", "state": "Established", "afi": "l2vpn", "safi": "evpn",
    "asn": 64520, "peerAsn": 64520, "pfxRx": 8, "pfxTx": 32, "numChanges": 1, "estdTime":
    1616221944916, "timestamp": 1616541719916}, {"namespace": "nxos", "hostname":
    "spine02", "vrf": "default", "peer": "10.0.0.12", "peerHostname": "leaf02", "state":
    "Established", "afi": "ipv4", "safi": "unicast", "asn": 64520, "peerAsn": 64520,
    "pfxRx": 0, "pfxTx": 0, "numChanges": 1, "estdTime": 1616221945916, "timestamp":
    1616541719916}, {"namespace": "nxos", "hostname": "spine02", "vrf": "default",
    "peer": "10.0.0.12", "peerHostname": "leaf02", "state": "Established", "afi":
    "l2vpn", "safi": "evpn", "asn": 64520, "peerAsn": 64520, "pfxRx": 8, "pfxTx":
    32, "numChanges": 1, "estdTime": 1616221945916, "timestamp": 1616541719916}, {"namespace":
    "nxos", "hostname": "spine02", "vrf": "default", "peer": "10.0.0.13", "peerHostname":
    "leaf03", "state": "Established", "afi": "ipv4", "safi": "unicast", "asn": 64520,
    "peerAsn": 64520, "pfxRx": 0, "pfxTx": 0, "numChanges": 1, "estdTime": 1616221947916,
    "timestamp": 1616541719916}, {"namespace": "nxos", "hostname": "spine02", "vrf":
    "default", "peer": "10.0.0.13", "peerHostname": "leaf03", "state": "Established",
    "afi": "l2vpn", "safi": "evpn", "asn": 64520, "peerAsn": 64520, "pfxRx": 8, "pfxTx":
    32, "numChanges": 1, "estdTime": 1616221947916, "timestamp": 1616541719916}, {"namespace":
    "nxos", "hostname": "spine02", "vrf": "default", "peer": "10.0.0.14", "peerHostname":
    "leaf04", "state": "Established", "afi": "ipv4", "safi": "unicast", "asn": 64520,
    "peerAsn": 64520, "pfxRx": 0, "pfxTx": 0, "numChanges": 1, "estdTime": 1616221947916,
    "timestamp": 1616541719916}, {"namespace": "nxos", "hostname": "spine02", "vrf":
    "default", "peer": "10.0.0.14", "peerHostname": "leaf04", "state": "Established",
    "afi": "l2vpn", "safi": "evpn", "asn": 64520, "peerAsn": 64520, "pfxRx": 8, "pfxTx":
    32, "numChanges": 1, "estdTime": 1616221947916, "timestamp": 1616541719916}, {"namespace":
    "nxos", "hostname": "spine02", "vrf": "default", "peer": "10.0.0.31", "peerHostname":
    "exit01", "state": "Established", "afi": "ipv4", "safi": "unicast", "asn": 64520,
    "peerAsn": 64520, "pfxRx": 1, "pfxTx": 0, "numChanges": 1, "estdTime": 1616221952916,
    "timestamp": 1616541719916}, {"namespace": "nxos", "hostname": "spine02", "vrf":
    "default", "peer": "10.0.0.31", "peerHostname": "exit01", "state": "Established",
    "afi": "l2vpn", "safi": "evpn", "asn": 64520, "peerAsn": 64520, "pfxRx": 4, "pfxTx":
    36, "numChanges": 1, "estdTime": 1616221952916, "timestamp": 1616541719916}, {"namespace":
    "nxos", "hostname": "spine02", "vrf": "default", "peer": "10.0.0.32", "peerHostname":
    "exit02", "state": "Established", "afi": "ipv4", "safi": "unicast", "asn": 64520,
    "peerAsn": 64520, "pfxRx": 1, "pfxTx": 0, "numChanges": 1, "estdTime": 1616221952916,
    "timestamp": 1616541719916}, {"namespace": "nxos", "hostname": "spine02", "vrf":
    "default", "peer": "10.0.0.32", "peerHostname": "exit02", "state": "Established",
    "afi": "l2vpn", "safi": "evpn", "asn": 64520, "peerAsn": 64520, "pfxRx": 4, "pfxTx":
    36, "numChanges": 1, "estdTime": 1616221952916, "timestamp": 1616541719916}, {"namespace":
    "nxos", "hostname": "leaf02", "vrf": "default", "peer": "10.0.0.22", "peerHostname":
    "spine02", "state": "Established", "afi": "l2vpn", "safi": "evpn", "asn": 64520,
    "peerAsn": 64520, "pfxRx": 24, "pfxTx": 8, "numChanges": 1, "estdTime": 1616221946234,
    "timestamp": 1616541720234}, {"namespace": "nxos", "hostname": "leaf02", "vrf":
    "default", "peer": "10.0.0.21", "peerHostname": "spine01", "state": "Established",
    "afi": "l2vpn", "safi": "evpn", "asn": 64520, "peerAsn": 64520, "pfxRx": 24, "pfxTx":
    8, "numChanges": 1, "estdTime": 1616221947234, "timestamp": 1616541720234}, {"namespace":
    "nxos", "hostname": "leaf02", "vrf": "default", "peer": "10.0.0.21", "peerHostname":
    "spine01", "state": "Established", "afi": "ipv4", "safi": "unicast", "asn": 64520,
    "peerAsn": 64520, "pfxRx": 0, "pfxTx": 0, "numChanges": 1, "estdTime": 1616221947234,
    "timestamp": 1616541720234}, {"namespace": "nxos", "hostname": "leaf02", "vrf":
    "default", "peer": "10.0.0.22", "peerHostname": "spine02", "state": "Established",
    "afi": "ipv4", "safi": "unicast", "asn": 64520, "peerAsn": 64520, "pfxRx": 0,
    "pfxTx": 0, "numChanges": 1, "estdTime": 1616221946234, "timestamp": 1616541720234},
    {"namespace": "nxos", "hostname": "exit01", "vrf": "default", "peer": "10.0.0.21",
    "peerHostname": "spine01", "state": "Established", "afi": "ipv4", "safi": "unicast",
    "asn": 64520, "peerAsn": 64520, "pfxRx": 0, "pfxTx": 1, "numChanges": 9, "estdTime":
    1616421060254, "timestamp": 1616541720254}, {"namespace": "nxos", "hostname":
    "exit01", "vrf": "default", "peer": "10.0.0.21", "peerHostname": "spine01", "state":
    "Established", "afi": "l2vpn", "safi": "evpn", "asn": 64520, "peerAsn": 64520,
    "pfxRx": 36, "pfxTx": 10, "numChanges": 9, "estdTime": 1616421060254, "timestamp":
    1616541720254}, {"namespace": "nxos", "hostname": "exit01", "vrf": "default",
    "peer": "10.0.0.22", "peerHostname": "spine02", "state": "Established", "afi":
    "ipv4", "safi": "unicast", "asn": 64520, "peerAsn": 64520, "pfxRx": 0, "pfxTx":
    1, "numChanges": 1, "estdTime": 1616221953254, "timestamp": 1616541720254}, {"namespace":
    "nxos", "hostname": "exit01", "vrf": "default", "peer": "10.0.0.22", "peerHostname":
    "spine02", "state": "Established", "afi": "l2vpn", "safi": "evpn", "asn": 64520,
    "peerAsn": 64520, "pfxRx": 36, "pfxTx": 10, "numChanges": 1, "estdTime": 1616221953254,
    "timestamp": 1616541720254}, {"namespace": "nxos", "hostname": "exit01", "vrf":
    "default", "peer": "169.254.254.2", "peerHostname": "firewall01", "state": "Established",
    "afi": "ipv4", "safi": "unicast", "asn": 64520, "peerAsn": 65533, "pfxRx": 1,
    "pfxTx": 0, "numChanges": 5, "estdTime": 1616416138254, "timestamp": 1616541720254},
    {"namespace": "nxos", "hostname": "exit01", "vrf": "evpn-vrf", "peer": "169.254.254.6",
    "peerHostname": "firewall01", "state": "Established", "afi": "ipv4", "safi": "unicast",
    "asn": 64520, "peerAsn": 65533, "pfxRx": 10, "pfxTx": 3, "numChanges": 5, "estdTime":
    1616416139254, "timestamp": 1616541720254}, {"namespace": "nxos", "hostname":
    "exit01", "vrf": "internet-vrf", "peer": "169.254.127.0", "peerHostname": "dcedge01",
    "state": "Established", "afi": "ipv4", "safi": "unicast", "asn": 64520, "peerAsn":
    65534, "pfxRx": 6, "pfxTx": 4, "numChanges": 1, "estdTime": 1616222042254, "timestamp":
    1616541720254}, {"namespace": "nxos", "hostname": "exit01", "vrf": "internet-vrf",
    "peer": "169.254.254.10", "peerHostname": "firewall01", "state": "Established",
    "afi": "ipv4", "safi": "unicast", "asn": 64520, "peerAsn": 65533, "pfxRx": 10,
    "pfxTx": 6, "numChanges": 5, "estdTime": 1616416137254, "timestamp": 1616541720254},
    {"namespace": "nxos", "hostname": "leaf03", "vrf": "default", "peer": "10.0.0.21",
    "peerHostname": "spine01", "state": "Established", "afi": "ipv4", "safi": "unicast",
    "asn": 64520, "peerAsn": 64520, "pfxRx": 0, "pfxTx": 0, "numChanges": 1, "estdTime":
    1616221946354, "timestamp": 1616541720354}, {"namespace": "nxos", "hostname":
    "leaf03", "vrf": "default", "peer": "10.0.0.21", "peerHostname": "spine01", "state":
    "Established", "afi": "l2vpn", "safi": "evpn", "asn": 64520, "peerAsn": 64520,
    "pfxRx": 24, "pfxTx": 8, "numChanges": 1, "estdTime": 1616221946354, "timestamp":
    1616541720354}, {"namespace": "nxos", "hostname": "leaf03", "vrf": "default",
    "peer": "10.0.0.22", "peerHostname": "spine02", "state": "Established", "afi":
    "ipv4", "safi": "unicast", "asn": 64520, "peerAsn": 64520, "pfxRx": 0, "pfxTx":
    0, "numChanges": 1, "estdTime": 1616221948354, "timestamp": 1616541720354}, {"namespace":
    "nxos", "hostname": "leaf03", "vrf": "default", "peer": "10.0.0.22", "peerHostname":
    "spine02", "state": "Established", "afi": "l2vpn", "safi": "evpn", "asn": 64520,
    "peerAsn": 64520, "pfxRx": 24, "pfxTx": 8, "numChanges": 1, "estdTime": 1616221948354,
    "timestamp": 1616541720354}, {"namespace": "nxos", "hostname": "exit02", "vrf":
    "internet-vrf", "peer": "169.254.127.2", "peerHostname": "dcedge01", "state":
    "Established", "afi": "ipv4", "safi": "unicast", "asn": 64520, "peerAsn": 65534,
    "pfxRx": 6, "pfxTx": 4, "numChanges": 1, "estdTime": 1616222045567, "timestamp":
    1616541720567}, {"namespace": "nxos", "hostname": "exit02", "vrf": "internet-vrf",
    "peer": "169.254.253.10", "peerHostname": "firewall01", "state": "Established",
    "afi": "ipv4", "safi": "unicast", "asn": 64520, "peerAsn": 65533, "pfxRx": 10,
    "pfxTx": 6, "numChanges": 5, "estdTime": 1616416137567, "timestamp": 1616541720567},
    {"namespace": "nxos", "hostname": "exit02", "vrf": "evpn-vrf", "peer": "169.254.253.6",
    "peerHostname": "firewall01", "state": "Established", "afi": "ipv4", "safi": "unicast",
    "asn": 64520, "peerAsn": 65533, "pfxRx": 1, "pfxTx": 3, "numChanges": 5, "estdTime":
    1616416137567, "timestamp": 1616541720567}, {"namespace": "nxos", "hostname":
    "exit02", "vrf": "default", "peer": "169.254.253.2", "peerHostname": "firewall01",
    "state": "Established", "afi": "ipv4", "safi": "unicast", "asn": 64520, "peerAsn":
    65533, "pfxRx": 1, "pfxTx": 0, "numChanges": 5, "estdTime": 1616416138567, "timestamp":
    1616541720567}, {"namespace": "nxos", "hostname": "exit02", "vrf": "default",
    "peer": "10.0.0.22", "peerHostname": "spine02", "state": "Established", "afi":
    "l2vpn", "safi": "evpn", "asn": 64520, "peerAsn": 64520, "pfxRx": 36, "pfxTx":
    4, "numChanges": 1, "estdTime": 1616221952567, "timestamp": 1616541720567}, {"namespace":
    "nxos", "hostname": "exit02", "vrf": "default", "peer": "10.0.0.22", "peerHostname":
    "spine02", "state": "Established", "afi": "ipv4", "safi": "unicast", "asn": 64520,
    "peerAsn": 64520, "pfxRx": 0, "pfxTx": 1, "numChanges": 1, "estdTime": 1616221952567,
    "timestamp": 1616541720567}, {"namespace": "nxos", "hostname": "exit02", "vrf":
    "default", "peer": "10.0.0.21", "peerHostname": "spine01", "state": "Established",
    "afi": "l2vpn", "safi": "evpn", "asn": 64520, "peerAsn": 64520, "pfxRx": 36, "pfxTx":
    4, "numChanges": 1, "estdTime": 1616221954567, "timestamp": 1616541720567}, {"namespace":
    "nxos", "hostname": "exit02", "vrf": "default", "peer": "10.0.0.21", "peerHostname":
    "spine01", "state": "Established", "afi": "ipv4", "safi": "unicast", "asn": 64520,
    "peerAsn": 64520, "pfxRx": 0, "pfxTx": 1, "numChanges": 1, "estdTime": 1616221954567,
    "timestamp": 1616541720567}, {"namespace": "nxos", "hostname": "leaf04", "vrf":
    "default", "peer": "10.0.0.22", "peerHostname": "spine02", "state": "Established",
    "afi": "l2vpn", "safi": "evpn", "asn": 64520, "peerAsn": 64520, "pfxRx": 24, "pfxTx":
    8, "numChanges": 1, "estdTime": 1616221948013, "timestamp": 1616541721013}, {"namespace":
    "nxos", "hostname": "leaf04", "vrf": "default", "peer": "10.0.0.22", "peerHostname":
    "spine02", "state": "Established", "afi": "ipv4", "safi": "unicast", "asn": 64520,
    "peerAsn": 64520, "pfxRx": 0, "pfxTx": 0, "numChanges": 1, "estdTime": 1616221948013,
    "timestamp": 1616541721013}, {"namespace": "nxos", "hostname": "leaf04", "vrf":
    "default", "peer": "10.0.0.21", "peerHostname": "spine01", "state": "Established",
    "afi": "l2vpn", "safi": "evpn", "asn": 64520, "peerAsn": 64520, "pfxRx": 24, "pfxTx":
    8, "numChanges": 1, "estdTime": 1616221948013, "timestamp": 1616541721013}, {"namespace":
    "nxos", "hostname": "leaf04", "vrf": "default", "peer": "10.0.0.21", "peerHostname":
    "spine01", "state": "Established", "afi": "ipv4", "safi": "unicast", "asn": 64520,
    "peerAsn": 64520, "pfxRx": 0, "pfxTx": 0, "numChanges": 1, "estdTime": 1616221948013,
    "timestamp": 1616541721013}, {"namespace": "nxos", "hostname": "leaf01", "vrf":
    "default", "peer": "10.0.0.21", "peerHostname": "spine01", "state": "Established",
    "afi": "ipv4", "safi": "unicast", "asn": 64520, "peerAsn": 64520, "pfxRx": 0,
    "pfxTx": 0, "numChanges": 1, "estdTime": 1616221944251, "timestamp": 1616541721251},
    {"namespace": "nxos", "hostname": "leaf01", "vrf": "default", "peer": "10.0.0.22",
    "peerHostname": "spine02", "state": "Established", "afi": "ipv4", "safi": "unicast",
    "asn": 64520, "peerAsn": 64520, "pfxRx": 0, "pfxTx": 0, "numChanges": 1, "estdTime":
    1616221945251, "timestamp": 1616541721251}, {"namespace": "nxos", "hostname":
    "leaf01", "vrf": "default", "peer": "10.0.0.21", "peerHostname": "spine01", "state":
    "Established", "afi": "l2vpn", "safi": "evpn", "asn": 64520, "peerAsn": 64520,
    "pfxRx": 24, "pfxTx": 8, "numChanges": 1, "estdTime": 1616221944251, "timestamp":
    1616541721251}, {"namespace": "nxos", "hostname": "leaf01", "vrf": "default",
    "peer": "10.0.0.22", "peerHostname": "spine02", "state": "Established", "afi":
    "l2vpn", "safi": "evpn", "asn": 64520, "peerAsn": 64520, "pfxRx": 24, "pfxTx":
    8, "numChanges": 1, "estdTime": 1616221945251, "timestamp": 1616541721251}]'
- command: bgp show --columns='hostname afiSafi' --format=json
  data-directory: tests/data/nxos/parquet-out/
  marks: bgp show nxos
  output: '[{"hostname": "firewall01", "afiSafi": "ipv4 unicast"}, {"hostname": "firewall01",
    "afiSafi": "ipv4 unicast"}, {"hostname": "firewall01", "afiSafi": "ipv4 unicast"},
    {"hostname": "firewall01", "afiSafi": "ipv4 unicast"}, {"hostname": "firewall01",
    "afiSafi": "ipv4 unicast"}, {"hostname": "firewall01", "afiSafi": "ipv4 unicast"},
    {"hostname": "dcedge01", "afiSafi": "ipv4 unicast"}, {"hostname": "dcedge01",
    "afiSafi": "ipv4 unicast"}, {"hostname": "spine01", "afiSafi": "l2vpn evpn"},
    {"hostname": "spine01", "afiSafi": "ipv4 unicast"}, {"hostname": "spine01", "afiSafi":
    "l2vpn evpn"}, {"hostname": "spine01", "afiSafi": "ipv4 unicast"}, {"hostname":
    "spine01", "afiSafi": "l2vpn evpn"}, {"hostname": "spine01", "afiSafi": "ipv4
    unicast"}, {"hostname": "spine01", "afiSafi": "l2vpn evpn"}, {"hostname": "spine01",
    "afiSafi": "ipv4 unicast"}, {"hostname": "spine01", "afiSafi": "l2vpn evpn"},
    {"hostname": "spine01", "afiSafi": "ipv4 unicast"}, {"hostname": "spine01", "afiSafi":
    "l2vpn evpn"}, {"hostname": "spine01", "afiSafi": "ipv4 unicast"}, {"hostname":
    "spine02", "afiSafi": "ipv4 unicast"}, {"hostname": "spine02", "afiSafi": "l2vpn
    evpn"}, {"hostname": "spine02", "afiSafi": "ipv4 unicast"}, {"hostname": "spine02",
    "afiSafi": "l2vpn evpn"}, {"hostname": "spine02", "afiSafi": "ipv4 unicast"},
    {"hostname": "spine02", "afiSafi": "l2vpn evpn"}, {"hostname": "spine02", "afiSafi":
    "ipv4 unicast"}, {"hostname": "spine02", "afiSafi": "l2vpn evpn"}, {"hostname":
    "spine02", "afiSafi": "ipv4 unicast"}, {"hostname": "spine02", "afiSafi": "l2vpn
    evpn"}, {"hostname": "spine02", "afiSafi": "ipv4 unicast"}, {"hostname": "spine02",
    "afiSafi": "l2vpn evpn"}, {"hostname": "leaf02", "afiSafi": "l2vpn evpn"}, {"hostname":
    "leaf02", "afiSafi": "l2vpn evpn"}, {"hostname": "leaf02", "afiSafi": "ipv4 unicast"},
    {"hostname": "leaf02", "afiSafi": "ipv4 unicast"}, {"hostname": "exit01", "afiSafi":
    "ipv4 unicast"}, {"hostname": "exit01", "afiSafi": "l2vpn evpn"}, {"hostname":
    "exit01", "afiSafi": "ipv4 unicast"}, {"hostname": "exit01", "afiSafi": "l2vpn
    evpn"}, {"hostname": "exit01", "afiSafi": "ipv4 unicast"}, {"hostname": "exit01",
    "afiSafi": "ipv4 unicast"}, {"hostname": "exit01", "afiSafi": "ipv4 unicast"},
    {"hostname": "exit01", "afiSafi": "ipv4 unicast"}, {"hostname": "leaf03", "afiSafi":
    "ipv4 unicast"}, {"hostname": "leaf03", "afiSafi": "l2vpn evpn"}, {"hostname":
    "leaf03", "afiSafi": "ipv4 unicast"}, {"hostname": "leaf03", "afiSafi": "l2vpn
    evpn"}, {"hostname": "exit02", "afiSafi": "ipv4 unicast"}, {"hostname": "exit02",
    "afiSafi": "ipv4 unicast"}, {"hostname": "exit02", "afiSafi": "ipv4 unicast"},
    {"hostname": "exit02", "afiSafi": "ipv4 unicast"}, {"hostname": "exit02", "afiSafi":
    "l2vpn evpn"}, {"hostname": "exit02", "afiSafi": "ipv4 unicast"}, {"hostname":
    "exit02", "afiSafi": "l2vpn evpn"}, {"hostname": "exit02", "afiSafi": "ipv4 unicast"},
    {"hostname": "leaf04", "afiSafi": "l2vpn evpn"}, {"hostname": "leaf04", "afiSafi":
    "ipv4 unicast"}, {"hostname": "leaf04", "afiSafi": "l2vpn evpn"}, {"hostname":
    "leaf04", "afiSafi": "ipv4 unicast"}, {"hostname": "leaf01", "afiSafi": "ipv4
    unicast"}, {"hostname": "leaf01", "afiSafi": "ipv4 unicast"}, {"hostname": "leaf01",
    "afiSafi": "l2vpn evpn"}, {"hostname": "leaf01", "afiSafi": "l2vpn evpn"}]'
- command: bgp summarize --format=json
  data-directory: tests/data/nxos/parquet-out/
  marks: bgp summarize nxos
  output: '{"nxos": {"deviceCnt": 10, "totalPeerCnt": 40, "uniqueAsnCnt": 3, "uniqueVrfsCnt":
    3, "failedPeerCnt": 0, "iBGPPeerCnt": 24, "eBGPPeerCnt": 16, "rrClientPeerCnt":
    0, "activeAfiSafiCnt": 2, "upTimeStat": [120659000, 319777000, 319766500], "updatesRxStat":
    [1, 2199, 288], "updatesTxStat": [2, 2199, 288]}}'
- command: bgp unique --format=json
  data-directory: tests/data/nxos/parquet-out/
  error:
    error: '[{"error": "ERROR: Must specify columns with unique"}]'
  marks: bgp unique nxos
- command: bgp unique --columns=hostname --format=json
  data-directory: tests/data/nxos/parquet-out/
  marks: bgp unique nxos
  output: '[{"hostname": "dcedge01"}, {"hostname": "exit01"}, {"hostname": "exit02"},
    {"hostname": "firewall01"}, {"hostname": "leaf01"}, {"hostname": "leaf02"}, {"hostname":
    "leaf03"}, {"hostname": "leaf04"}, {"hostname": "spine01"}, {"hostname": "spine02"}]'
- command: bgp unique --columns=hostname --format=json --count=True
  data-directory: tests/data/nxos/parquet-out/
  marks: bgp unique nxos
  output: '[{"hostname": "dcedge01", "numRows": 2}, {"hostname": "leaf01", "numRows":
    4}, {"hostname": "leaf02", "numRows": 4}, {"hostname": "leaf03", "numRows": 4},
    {"hostname": "leaf04", "numRows": 4}, {"hostname": "firewall01", "numRows": 6},
    {"hostname": "exit01", "numRows": 8}, {"hostname": "exit02", "numRows": 8}, {"hostname":
    "spine01", "numRows": 12}, {"hostname": "spine02", "numRows": 12}]'
- command: bgp assert --format=json
  data-directory: tests/data/nxos/parquet-out/
  error:
    error: '[{"namespace": "nxos", "hostname": "firewall01", "vrf": "default", "peer":
      "eth2.4", "asn": 65533, "peerAsn": 64520, "state": "Established", "peerHostname":
      "exit02", "vrfPeer": "internet-vrf", "peerPeer": "169.254.253.10", "asnPeer":
      64520, "peerAsnPeer": 65533, "assert": "pass", "assertReason": "-", "timestamp":
      1616541713967}, {"namespace": "nxos", "hostname": "firewall01", "vrf": "default",
      "peer": "eth2.3", "asn": 65533, "peerAsn": 64520, "state": "Established", "peerHostname":
      "exit02", "vrfPeer": "evpn-vrf", "peerPeer": "169.254.253.6", "asnPeer": 64520,
      "peerAsnPeer": 65533, "assert": "pass", "assertReason": "-", "timestamp": 1616541713967},
      {"namespace": "nxos", "hostname": "firewall01", "vrf": "default", "peer": "eth2.2",
      "asn": 65533, "peerAsn": 64520, "state": "Established", "peerHostname": "exit02",
      "vrfPeer": "default", "peerPeer": "169.254.253.2", "asnPeer": 64520, "peerAsnPeer":
      65533, "assert": "pass", "assertReason": "-", "timestamp": 1616541713967}, {"namespace":
      "nxos", "hostname": "firewall01", "vrf": "default", "peer": "eth1.4", "asn":
      65533, "peerAsn": 64520, "state": "Established", "peerHostname": "exit01", "vrfPeer":
      "internet-vrf", "peerPeer": "169.254.254.10", "asnPeer": 64520, "peerAsnPeer":
      65533, "assert": "pass", "assertReason": "-", "timestamp": 1616541713967}, {"namespace":
      "nxos", "hostname": "firewall01", "vrf": "default", "peer": "eth1.3", "asn":
      65533, "peerAsn": 64520, "state": "Established", "peerHostname": "exit01", "vrfPeer":
      "evpn-vrf", "peerPeer": "169.254.254.6", "asnPeer": 64520, "peerAsnPeer": 65533,
      "assert": "pass", "assertReason": "-", "timestamp": 1616541713967}, {"namespace":
      "nxos", "hostname": "firewall01", "vrf": "default", "peer": "eth1.2", "asn":
      65533, "peerAsn": 64520, "state": "Established", "peerHostname": "exit01", "vrfPeer":
      "default", "peerPeer": "169.254.254.2", "asnPeer": 64520, "peerAsnPeer": 65533,
      "assert": "pass", "assertReason": "-", "timestamp": 1616541713967}, {"namespace":
      "nxos", "hostname": "dcedge01", "vrf": "default", "peer": "169.254.127.1", "asn":
      65534, "peerAsn": 64520, "state": "Established", "peerHostname": "exit01", "vrfPeer":
      "internet-vrf", "peerPeer": "169.254.127.0", "asnPeer": 64520, "peerAsnPeer":
      65534, "assert": "fail", "assertReason": "Not all Afi/Safis enabled", "timestamp":
      1616541716445}, {"namespace": "nxos", "hostname": "dcedge01", "vrf": "default",
      "peer": "169.254.127.3", "asn": 65534, "peerAsn": 64520, "state": "Established",
      "peerHostname": "exit02", "vrfPeer": "internet-vrf", "peerPeer": "169.254.127.2",
      "asnPeer": 64520, "peerAsnPeer": 65534, "assert": "fail", "assertReason": "Not
      all Afi/Safis enabled", "timestamp": 1616541716445}, {"namespace": "nxos", "hostname":
      "spine01", "vrf": "default", "peer": "10.0.0.11", "asn": 64520, "peerAsn": 64520,
      "state": "Established", "peerHostname": "leaf01", "vrfPeer": "default", "peerPeer":
      "10.0.0.21", "asnPeer": 64520, "peerAsnPeer": 64520, "assert": "pass", "assertReason":
      "-", "timestamp": 1616541719819}, {"namespace": "nxos", "hostname": "spine01",
      "vrf": "default", "peer": "10.0.0.12", "asn": 64520, "peerAsn": 64520, "state":
      "Established", "peerHostname": "leaf02", "vrfPeer": "default", "peerPeer": "10.0.0.22",
      "asnPeer": 64520, "peerAsnPeer": 64520, "assert": "pass", "assertReason": "-",
      "timestamp": 1616541719819}, {"namespace": "nxos", "hostname": "spine01", "vrf":
      "default", "peer": "10.0.0.13", "asn": 64520, "peerAsn": 64520, "state": "Established",
      "peerHostname": "leaf03", "vrfPeer": "default", "peerPeer": "10.0.0.21", "asnPeer":
      64520, "peerAsnPeer": 64520, "assert": "pass", "assertReason": "-", "timestamp":
      1616541719819}, {"namespace": "nxos", "hostname": "spine01", "vrf": "default",
      "peer": "10.0.0.14", "asn": 64520, "peerAsn": 64520, "state": "Established",
      "peerHostname": "leaf04", "vrfPeer": "default", "peerPeer": "10.0.0.22", "asnPeer":
      64520, "peerAsnPeer": 64520, "assert": "pass", "assertReason": "-", "timestamp":
      1616541719819}, {"namespace": "nxos", "hostname": "spine01", "vrf": "default",
      "peer": "10.0.0.31", "asn": 64520, "peerAsn": 64520, "state": "Established",
      "peerHostname": "exit01", "vrfPeer": "default", "peerPeer": "10.0.0.21", "asnPeer":
      64520, "peerAsnPeer": 64520, "assert": "pass", "assertReason": "-", "timestamp":
      1616541719819}, {"namespace": "nxos", "hostname": "spine01", "vrf": "default",
      "peer": "10.0.0.32", "asn": 64520, "peerAsn": 64520, "state": "Established",
      "peerHostname": "exit02", "vrfPeer": "default", "peerPeer": "10.0.0.22", "asnPeer":
      64520, "peerAsnPeer": 64520, "assert": "pass", "assertReason": "-", "timestamp":
      1616541719819}, {"namespace": "nxos", "hostname": "spine02", "vrf": "default",
      "peer": "10.0.0.11", "asn": 64520, "peerAsn": 64520, "state": "Established",
      "peerHostname": "leaf01", "vrfPeer": "default", "peerPeer": "10.0.0.21", "asnPeer":
      64520, "peerAsnPeer": 64520, "assert": "pass", "assertReason": "-", "timestamp":
      1616541719916}, {"namespace": "nxos", "hostname": "spine02", "vrf": "default",
      "peer": "10.0.0.12", "asn": 64520, "peerAsn": 64520, "state": "Established",
      "peerHostname": "leaf02", "vrfPeer": "default", "peerPeer": "10.0.0.22", "asnPeer":
      64520, "peerAsnPeer": 64520, "assert": "pass", "assertReason": "-", "timestamp":
      1616541719916}, {"namespace": "nxos", "hostname": "spine02", "vrf": "default",
      "peer": "10.0.0.13", "asn": 64520, "peerAsn": 64520, "state": "Established",
      "peerHostname": "leaf03", "vrfPeer": "default", "peerPeer": "10.0.0.21", "asnPeer":
      64520, "peerAsnPeer": 64520, "assert": "pass", "assertReason": "-", "timestamp":
      1616541719916}, {"namespace": "nxos", "hostname": "spine02", "vrf": "default",
      "peer": "10.0.0.14", "asn": 64520, "peerAsn": 64520, "state": "Established",
      "peerHostname": "leaf04", "vrfPeer": "default", "peerPeer": "10.0.0.22", "asnPeer":
      64520, "peerAsnPeer": 64520, "assert": "pass", "assertReason": "-", "timestamp":
      1616541719916}, {"namespace": "nxos", "hostname": "spine02", "vrf": "default",
      "peer": "10.0.0.31", "asn": 64520, "peerAsn": 64520, "state": "Established",
      "peerHostname": "exit01", "vrfPeer": "default", "peerPeer": "10.0.0.21", "asnPeer":
      64520, "peerAsnPeer": 64520, "assert": "pass", "assertReason": "-", "timestamp":
      1616541719916}, {"namespace": "nxos", "hostname": "spine02", "vrf": "default",
      "peer": "10.0.0.32", "asn": 64520, "peerAsn": 64520, "state": "Established",
      "peerHostname": "exit02", "vrfPeer": "default", "peerPeer": "10.0.0.22", "asnPeer":
      64520, "peerAsnPeer": 64520, "assert": "pass", "assertReason": "-", "timestamp":
      1616541719916}, {"namespace": "nxos", "hostname": "leaf02", "vrf": "default",
      "peer": "10.0.0.22", "asn": 64520, "peerAsn": 64520, "state": "Established",
      "peerHostname": "spine02", "vrfPeer": "default", "peerPeer": "10.0.0.11", "asnPeer":
      64520, "peerAsnPeer": 64520, "assert": "pass", "assertReason": "-", "timestamp":
      1616541720234}, {"namespace": "nxos", "hostname": "leaf02", "vrf": "default",
      "peer": "10.0.0.21", "asn": 64520, "peerAsn": 64520, "state": "Established",
      "peerHostname": "spine01", "vrfPeer": "default", "peerPeer": "10.0.0.11", "asnPeer":
      64520, "peerAsnPeer": 64520, "assert": "pass", "assertReason": "-", "timestamp":
      1616541720234}, {"namespace": "nxos", "hostname": "exit01", "vrf": "default",
      "peer": "10.0.0.21", "asn": 64520, "peerAsn": 64520, "state": "Established",
      "peerHostname": "spine01", "vrfPeer": "default", "peerPeer": "10.0.0.11", "asnPeer":
      64520, "peerAsnPeer": 64520, "assert": "pass", "assertReason": "-", "timestamp":
      1616541720254}, {"namespace": "nxos", "hostname": "exit01", "vrf": "default",
      "peer": "10.0.0.22", "asn": 64520, "peerAsn": 64520, "state": "Established",
      "peerHostname": "spine02", "vrfPeer": "default", "peerPeer": "10.0.0.11", "asnPeer":
      64520, "peerAsnPeer": 64520, "assert": "pass", "assertReason": "-", "timestamp":
      1616541720254}, {"namespace": "nxos", "hostname": "exit01", "vrf": "default",
      "peer": "169.254.254.2", "asn": 64520, "peerAsn": 65533, "state": "Established",
      "peerHostname": "firewall01", "vrfPeer": "default", "peerPeer": "eth1.2", "asnPeer":
      65533, "peerAsnPeer": 64520, "assert": "pass", "assertReason": "-", "timestamp":
      1616541720254}, {"namespace": "nxos", "hostname": "exit01", "vrf": "evpn-vrf",
      "peer": "169.254.254.6", "asn": 64520, "peerAsn": 65533, "state": "Established",
      "peerHostname": "firewall01", "vrfPeer": "default", "peerPeer": "eth1.3", "asnPeer":
      65533, "peerAsnPeer": 64520, "assert": "pass", "assertReason": "-", "timestamp":
      1616541720254}, {"namespace": "nxos", "hostname": "exit01", "vrf": "internet-vrf",
      "peer": "169.254.127.0", "asn": 64520, "peerAsn": 65534, "state": "Established",
      "peerHostname": "dcedge01", "vrfPeer": "default", "peerPeer": "169.254.127.1",
      "asnPeer": 65534, "peerAsnPeer": 64520, "assert": "pass", "assertReason": "-",
      "timestamp": 1616541720254}, {"namespace": "nxos", "hostname": "exit01", "vrf":
      "internet-vrf", "peer": "169.254.254.10", "asn": 64520, "peerAsn": 65533, "state":
      "Established", "peerHostname": "firewall01", "vrfPeer": "default", "peerPeer":
      "eth1.4", "asnPeer": 65533, "peerAsnPeer": 64520, "assert": "pass", "assertReason":
      "-", "timestamp": 1616541720254}, {"namespace": "nxos", "hostname": "leaf03",
      "vrf": "default", "peer": "10.0.0.21", "asn": 64520, "peerAsn": 64520, "state":
      "Established", "peerHostname": "spine01", "vrfPeer": "default", "peerPeer":
      "10.0.0.11", "asnPeer": 64520, "peerAsnPeer": 64520, "assert": "pass", "assertReason":
      "-", "timestamp": 1616541720354}, {"namespace": "nxos", "hostname": "leaf03",
      "vrf": "default", "peer": "10.0.0.22", "asn": 64520, "peerAsn": 64520, "state":
      "Established", "peerHostname": "spine02", "vrfPeer": "default", "peerPeer":
      "10.0.0.11", "asnPeer": 64520, "peerAsnPeer": 64520, "assert": "pass", "assertReason":
      "-", "timestamp": 1616541720354}, {"namespace": "nxos", "hostname": "exit02",
      "vrf": "internet-vrf", "peer": "169.254.127.2", "asn": 64520, "peerAsn": 65534,
      "state": "Established", "peerHostname": "dcedge01", "vrfPeer": "default", "peerPeer":
      "169.254.127.3", "asnPeer": 65534, "peerAsnPeer": 64520, "assert": "pass", "assertReason":
      "-", "timestamp": 1616541720567}, {"namespace": "nxos", "hostname": "exit02",
      "vrf": "internet-vrf", "peer": "169.254.253.10", "asn": 64520, "peerAsn": 65533,
      "state": "Established", "peerHostname": "firewall01", "vrfPeer": "default",
      "peerPeer": "eth2.4", "asnPeer": 65533, "peerAsnPeer": 64520, "assert": "pass",
      "assertReason": "-", "timestamp": 1616541720567}, {"namespace": "nxos", "hostname":
      "exit02", "vrf": "evpn-vrf", "peer": "169.254.253.6", "asn": 64520, "peerAsn":
      65533, "state": "Established", "peerHostname": "firewall01", "vrfPeer": "default",
      "peerPeer": "eth2.3", "asnPeer": 65533, "peerAsnPeer": 64520, "assert": "pass",
      "assertReason": "-", "timestamp": 1616541720567}, {"namespace": "nxos", "hostname":
      "exit02", "vrf": "default", "peer": "169.254.253.2", "asn": 64520, "peerAsn":
      65533, "state": "Established", "peerHostname": "firewall01", "vrfPeer": "default",
      "peerPeer": "eth2.2", "asnPeer": 65533, "peerAsnPeer": 64520, "assert": "pass",
      "assertReason": "-", "timestamp": 1616541720567}, {"namespace": "nxos", "hostname":
      "exit02", "vrf": "default", "peer": "10.0.0.22", "asn": 64520, "peerAsn": 64520,
      "state": "Established", "peerHostname": "spine02", "vrfPeer": "default", "peerPeer":
      "10.0.0.11", "asnPeer": 64520, "peerAsnPeer": 64520, "assert": "pass", "assertReason":
      "-", "timestamp": 1616541720567}, {"namespace": "nxos", "hostname": "exit02",
      "vrf": "default", "peer": "10.0.0.21", "asn": 64520, "peerAsn": 64520, "state":
      "Established", "peerHostname": "spine01", "vrfPeer": "default", "peerPeer":
      "10.0.0.11", "asnPeer": 64520, "peerAsnPeer": 64520, "assert": "pass", "assertReason":
      "-", "timestamp": 1616541720567}, {"namespace": "nxos", "hostname": "leaf04",
      "vrf": "default", "peer": "10.0.0.22", "asn": 64520, "peerAsn": 64520, "state":
      "Established", "peerHostname": "spine02", "vrfPeer": "default", "peerPeer":
      "10.0.0.11", "asnPeer": 64520, "peerAsnPeer": 64520, "assert": "pass", "assertReason":
      "-", "timestamp": 1616541721013}, {"namespace": "nxos", "hostname": "leaf04",
      "vrf": "default", "peer": "10.0.0.21", "asn": 64520, "peerAsn": 64520, "state":
      "Established", "peerHostname": "spine01", "vrfPeer": "default", "peerPeer":
      "10.0.0.11", "asnPeer": 64520, "peerAsnPeer": 64520, "assert": "pass", "assertReason":
      "-", "timestamp": 1616541721013}, {"namespace": "nxos", "hostname": "leaf01",
      "vrf": "default", "peer": "10.0.0.21", "asn": 64520, "peerAsn": 64520, "state":
      "Established", "peerHostname": "spine01", "vrfPeer": "default", "peerPeer":
      "10.0.0.11", "asnPeer": 64520, "peerAsnPeer": 64520, "assert": "pass", "assertReason":
      "-", "timestamp": 1616541721251}, {"namespace": "nxos", "hostname": "leaf01",
      "vrf": "default", "peer": "10.0.0.22", "asn": 64520, "peerAsn": 64520, "state":
      "Established", "peerHostname": "spine02", "vrfPeer": "default", "peerPeer":
      "10.0.0.11", "asnPeer": 64520, "peerAsnPeer": 64520, "assert": "pass", "assertReason":
      "-", "timestamp": 1616541721251}]'
  marks: bgp assert nxos
- command: bgp show --state=NotEstd --format=json
  data-directory: tests/data/nxos/parquet-out/
  marks: bgp show nxos filter
  output: '[]'
- command: bgp show --vrf=evpn-vrf --format=json
  data-directory: tests/data/nxos/parquet-out/
  marks: bgp show nxos filter
  output: '[{"namespace": "nxos", "hostname": "exit01", "vrf": "evpn-vrf", "peer":
    "169.254.254.6", "peerHostname": "firewall01", "state": "Established", "afi":
    "ipv4", "safi": "unicast", "asn": 64520, "peerAsn": 65533, "pfxRx": 10, "pfxTx":
    3, "numChanges": 5, "estdTime": 1616416139254, "timestamp": 1616541720254}, {"namespace":
    "nxos", "hostname": "exit02", "vrf": "evpn-vrf", "peer": "169.254.253.6", "peerHostname":
    "firewall01", "state": "Established", "afi": "ipv4", "safi": "unicast", "asn":
    64520, "peerAsn": 65533, "pfxRx": 1, "pfxTx": 3, "numChanges": 5, "estdTime":
    1616416137567, "timestamp": 1616541720567}]'
- command: bgp show --peer=10.0.0.14 --format=json
  data-directory: tests/data/nxos/parquet-out/
  marks: bgp show nxos filter
  output: '[{"namespace": "nxos", "hostname": "spine01", "vrf": "default", "peer":
    "10.0.0.14", "peerHostname": "leaf04", "state": "Established", "afi": "ipv4",
    "safi": "unicast", "asn": 64520, "peerAsn": 64520, "pfxRx": 0, "pfxTx": 0, "numChanges":
    1, "estdTime": 1616221947819, "timestamp": 1616541719819}, {"namespace": "nxos",
    "hostname": "spine01", "vrf": "default", "peer": "10.0.0.14", "peerHostname":
    "leaf04", "state": "Established", "afi": "l2vpn", "safi": "evpn", "asn": 64520,
    "peerAsn": 64520, "pfxRx": 8, "pfxTx": 32, "numChanges": 1, "estdTime": 1616221947819,
    "timestamp": 1616541719819}, {"namespace": "nxos", "hostname": "spine02", "vrf":
    "default", "peer": "10.0.0.14", "peerHostname": "leaf04", "state": "Established",
    "afi": "ipv4", "safi": "unicast", "asn": 64520, "peerAsn": 64520, "pfxRx": 0,
    "pfxTx": 0, "numChanges": 1, "estdTime": 1616221947916, "timestamp": 1616541719916},
    {"namespace": "nxos", "hostname": "spine02", "vrf": "default", "peer": "10.0.0.14",
    "peerHostname": "leaf04", "state": "Established", "afi": "l2vpn", "safi": "evpn",
    "asn": 64520, "peerAsn": 64520, "pfxRx": 8, "pfxTx": 32, "numChanges": 1, "estdTime":
    1616221947916, "timestamp": 1616541719916}]'
- command: bgp show --peer='10.0.0.21 10.0.0.22' --format=json
  data-directory: tests/data/nxos/parquet-out/
  marks: bgp show nxos filter
  output: '[{"namespace": "nxos", "hostname": "leaf02", "vrf": "default", "peer":
    "10.0.0.22", "peerHostname": "spine02", "state": "Established", "afi": "l2vpn",
    "safi": "evpn", "asn": 64520, "peerAsn": 64520, "pfxRx": 24, "pfxTx": 8, "numChanges":
    1, "estdTime": 1616221946234, "timestamp": 1616541720234}, {"namespace": "nxos",
    "hostname": "leaf02", "vrf": "default", "peer": "10.0.0.21", "peerHostname": "spine01",
    "state": "Established", "afi": "l2vpn", "safi": "evpn", "asn": 64520, "peerAsn":
    64520, "pfxRx": 24, "pfxTx": 8, "numChanges": 1, "estdTime": 1616221947234, "timestamp":
    1616541720234}, {"namespace": "nxos", "hostname": "leaf02", "vrf": "default",
    "peer": "10.0.0.21", "peerHostname": "spine01", "state": "Established", "afi":
    "ipv4", "safi": "unicast", "asn": 64520, "peerAsn": 64520, "pfxRx": 0, "pfxTx":
    0, "numChanges": 1, "estdTime": 1616221947234, "timestamp": 1616541720234}, {"namespace":
    "nxos", "hostname": "leaf02", "vrf": "default", "peer": "10.0.0.22", "peerHostname":
    "spine02", "state": "Established", "afi": "ipv4", "safi": "unicast", "asn": 64520,
    "peerAsn": 64520, "pfxRx": 0, "pfxTx": 0, "numChanges": 1, "estdTime": 1616221946234,
    "timestamp": 1616541720234}, {"namespace": "nxos", "hostname": "exit01", "vrf":
    "default", "peer": "10.0.0.21", "peerHostname": "spine01", "state": "Established",
    "afi": "ipv4", "safi": "unicast", "asn": 64520, "peerAsn": 64520, "pfxRx": 0,
    "pfxTx": 1, "numChanges": 9, "estdTime": 1616421060254, "timestamp": 1616541720254},
    {"namespace": "nxos", "hostname": "exit01", "vrf": "default", "peer": "10.0.0.21",
    "peerHostname": "spine01", "state": "Established", "afi": "l2vpn", "safi": "evpn",
    "asn": 64520, "peerAsn": 64520, "pfxRx": 36, "pfxTx": 10, "numChanges": 9, "estdTime":
    1616421060254, "timestamp": 1616541720254}, {"namespace": "nxos", "hostname":
    "exit01", "vrf": "default", "peer": "10.0.0.22", "peerHostname": "spine02", "state":
    "Established", "afi": "ipv4", "safi": "unicast", "asn": 64520, "peerAsn": 64520,
    "pfxRx": 0, "pfxTx": 1, "numChanges": 1, "estdTime": 1616221953254, "timestamp":
    1616541720254}, {"namespace": "nxos", "hostname": "exit01", "vrf": "default",
    "peer": "10.0.0.22", "peerHostname": "spine02", "state": "Established", "afi":
    "l2vpn", "safi": "evpn", "asn": 64520, "peerAsn": 64520, "pfxRx": 36, "pfxTx":
    10, "numChanges": 1, "estdTime": 1616221953254, "timestamp": 1616541720254}, {"namespace":
    "nxos", "hostname": "leaf03", "vrf": "default", "peer": "10.0.0.21", "peerHostname":
    "spine01", "state": "Established", "afi": "ipv4", "safi": "unicast", "asn": 64520,
    "peerAsn": 64520, "pfxRx": 0, "pfxTx": 0, "numChanges": 1, "estdTime": 1616221946354,
    "timestamp": 1616541720354}, {"namespace": "nxos", "hostname": "leaf03", "vrf":
    "default", "peer": "10.0.0.21", "peerHostname": "spine01", "state": "Established",
    "afi": "l2vpn", "safi": "evpn", "asn": 64520, "peerAsn": 64520, "pfxRx": 24, "pfxTx":
    8, "numChanges": 1, "estdTime": 1616221946354, "timestamp": 1616541720354}, {"namespace":
    "nxos", "hostname": "leaf03", "vrf": "default", "peer": "10.0.0.22", "peerHostname":
    "spine02", "state": "Established", "afi": "ipv4", "safi": "unicast", "asn": 64520,
    "peerAsn": 64520, "pfxRx": 0, "pfxTx": 0, "numChanges": 1, "estdTime": 1616221948354,
    "timestamp": 1616541720354}, {"namespace": "nxos", "hostname": "leaf03", "vrf":
    "default", "peer": "10.0.0.22", "peerHostname": "spine02", "state": "Established",
    "afi": "l2vpn", "safi": "evpn", "asn": 64520, "peerAsn": 64520, "pfxRx": 24, "pfxTx":
    8, "numChanges": 1, "estdTime": 1616221948354, "timestamp": 1616541720354}, {"namespace":
    "nxos", "hostname": "exit02", "vrf": "default", "peer": "10.0.0.22", "peerHostname":
    "spine02", "state": "Established", "afi": "l2vpn", "safi": "evpn", "asn": 64520,
    "peerAsn": 64520, "pfxRx": 36, "pfxTx": 4, "numChanges": 1, "estdTime": 1616221952567,
    "timestamp": 1616541720567}, {"namespace": "nxos", "hostname": "exit02", "vrf":
    "default", "peer": "10.0.0.22", "peerHostname": "spine02", "state": "Established",
    "afi": "ipv4", "safi": "unicast", "asn": 64520, "peerAsn": 64520, "pfxRx": 0,
    "pfxTx": 1, "numChanges": 1, "estdTime": 1616221952567, "timestamp": 1616541720567},
    {"namespace": "nxos", "hostname": "exit02", "vrf": "default", "peer": "10.0.0.21",
    "peerHostname": "spine01", "state": "Established", "afi": "l2vpn", "safi": "evpn",
    "asn": 64520, "peerAsn": 64520, "pfxRx": 36, "pfxTx": 4, "numChanges": 1, "estdTime":
    1616221954567, "timestamp": 1616541720567}, {"namespace": "nxos", "hostname":
    "exit02", "vrf": "default", "peer": "10.0.0.21", "peerHostname": "spine01", "state":
    "Established", "afi": "ipv4", "safi": "unicast", "asn": 64520, "peerAsn": 64520,
    "pfxRx": 0, "pfxTx": 1, "numChanges": 1, "estdTime": 1616221954567, "timestamp":
    1616541720567}, {"namespace": "nxos", "hostname": "leaf04", "vrf": "default",
    "peer": "10.0.0.22", "peerHostname": "spine02", "state": "Established", "afi":
    "l2vpn", "safi": "evpn", "asn": 64520, "peerAsn": 64520, "pfxRx": 24, "pfxTx":
    8, "numChanges": 1, "estdTime": 1616221948013, "timestamp": 1616541721013}, {"namespace":
    "nxos", "hostname": "leaf04", "vrf": "default", "peer": "10.0.0.22", "peerHostname":
    "spine02", "state": "Established", "afi": "ipv4", "safi": "unicast", "asn": 64520,
    "peerAsn": 64520, "pfxRx": 0, "pfxTx": 0, "numChanges": 1, "estdTime": 1616221948013,
    "timestamp": 1616541721013}, {"namespace": "nxos", "hostname": "leaf04", "vrf":
    "default", "peer": "10.0.0.21", "peerHostname": "spine01", "state": "Established",
    "afi": "l2vpn", "safi": "evpn", "asn": 64520, "peerAsn": 64520, "pfxRx": 24, "pfxTx":
    8, "numChanges": 1, "estdTime": 1616221948013, "timestamp": 1616541721013}, {"namespace":
    "nxos", "hostname": "leaf04", "vrf": "default", "peer": "10.0.0.21", "peerHostname":
    "spine01", "state": "Established", "afi": "ipv4", "safi": "unicast", "asn": 64520,
    "peerAsn": 64520, "pfxRx": 0, "pfxTx": 0, "numChanges": 1, "estdTime": 1616221948013,
    "timestamp": 1616541721013}, {"namespace": "nxos", "hostname": "leaf01", "vrf":
    "default", "peer": "10.0.0.21", "peerHostname": "spine01", "state": "Established",
    "afi": "ipv4", "safi": "unicast", "asn": 64520, "peerAsn": 64520, "pfxRx": 0,
    "pfxTx": 0, "numChanges": 1, "estdTime": 1616221944251, "timestamp": 1616541721251},
    {"namespace": "nxos", "hostname": "leaf01", "vrf": "default", "peer": "10.0.0.22",
    "peerHostname": "spine02", "state": "Established", "afi": "ipv4", "safi": "unicast",
    "asn": 64520, "peerAsn": 64520, "pfxRx": 0, "pfxTx": 0, "numChanges": 1, "estdTime":
    1616221945251, "timestamp": 1616541721251}, {"namespace": "nxos", "hostname":
    "leaf01", "vrf": "default", "peer": "10.0.0.21", "peerHostname": "spine01", "state":
    "Established", "afi": "l2vpn", "safi": "evpn", "asn": 64520, "peerAsn": 64520,
    "pfxRx": 24, "pfxTx": 8, "numChanges": 1, "estdTime": 1616221944251, "timestamp":
    1616541721251}, {"namespace": "nxos", "hostname": "leaf01", "vrf": "default",
    "peer": "10.0.0.22", "peerHostname": "spine02", "state": "Established", "afi":
    "l2vpn", "safi": "evpn", "asn": 64520, "peerAsn": 64520, "pfxRx": 24, "pfxTx":
    8, "numChanges": 1, "estdTime": 1616221945251, "timestamp": 1616541721251}]'
