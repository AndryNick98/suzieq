description: Testing verb commands
tests:
  - command: system unique --format=json
    data-directory: basic_dual_bgp/parquet_out
    output: |
      [{"error":"ERROR: Must specify columns with unique"}]
    marks: system unique

  - command: system unique --column=hostname --format=json
    data-directory: basic_dual_bgp/parquet_out
    output: |
      [{"hostname":"edge01"},{"hostname":"exit01"},{"hostname":"exit02"},{"hostname":"internet"},{"hostname":"leaf01"},{"hostname":"leaf02"},{"hostname":"leaf03"},{"hostname":"leaf04"},{"hostname":"server101"},{"hostname":"server102"},{"hostname":"server103"},{"hostname":"server104"},{"hostname":"spine01"},{"hostname":"spine02"}]
    marks: system unique

  - command: system unique --column=badcolumn --format=json
    data-directory: basic_dual_bgp/parquet_out
    output: |
      []
    marks: system unique

  - command: routes unique --column=prefix --format=json
    data-directory: basic_dual_bgp/parquet_out
    xfail:
      reason: 'bug #37'
      error: "Error running command: Unsupported UTF-8 sequence length when encoding string\n------------------------------------------------------------\n------------------------------------------------------------\n"
    marks: routes unique

