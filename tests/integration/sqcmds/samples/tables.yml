description: Testing tables show 
tests:
  - command: table show --format=json
    data-directory: tests/data/basic_dual_bgp/parquet-out
    output: |
      [{"table":"arpnd","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":75,"namespaces":1,"devices":14},{"table":"bgp","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":32,"namespaces":1,"devices":9},{"table":"fs","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":374,"namespaces":1,"devices":14},{"table":"ifCounters","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":396,"namespaces":1,"devices":14},{"table":"interfaces","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":138,"namespaces":1,"devices":14},{"table":"lldp","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":44,"namespaces":1,"devices":10},{"table":"macs","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":39,"namespaces":1,"devices":5},{"table":"mlag","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":4,"namespaces":1,"devices":4},{"table":"routes","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":246,"namespaces":1,"devices":14},{"table":"system","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":14,"namespaces":1,"devices":14},{"table":"time","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":14,"namespaces":1,"devices":14},{"table":"topcpu","first_time":1579904925696,"latest_time":1579905056768,"intervals":2,"all rows":208,"namespaces":1,"devices":14},{"table":"topmem","first_time":1579904925696,"latest_time":1579905056768,"intervals":2,"all rows":163,"namespaces":1,"devices":9},{"table":"vlan","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":16,"namespaces":1,"devices":4},{"table":"TOTAL","first_time":1579904925696,"latest_time":1579905056768,"intervals":2,"all rows":1763,"namespaces":1,"devices":14}]
    marks: tables show

  - command: table show --namespace=dummy --format=json
    data-directory: tests/data/basic_dual_bgp/parquet-out
    output: |
      []
    marks: tables show filter

  - command: table show --view=changes --format=json
    data-directory: tests/data/basic_dual_bgp/parquet-out
    output: |
      [{"table":"arpnd","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":75,"namespaces":1,"devices":14},{"table":"bgp","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":32,"namespaces":1,"devices":9},{"table":"fs","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":374,"namespaces":1,"devices":14},{"table":"ifCounters","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":396,"namespaces":1,"devices":14},{"table":"interfaces","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":138,"namespaces":1,"devices":14},{"table":"lldp","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":44,"namespaces":1,"devices":10},{"table":"macs","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":39,"namespaces":1,"devices":5},{"table":"mlag","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":4,"namespaces":1,"devices":4},{"table":"routes","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":246,"namespaces":1,"devices":14},{"table":"system","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":14,"namespaces":1,"devices":14},{"table":"time","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":14,"namespaces":1,"devices":14},{"table":"topcpu","first_time":1579904925696,"latest_time":1579905056768,"intervals":2,"all rows":208,"namespaces":1,"devices":14},{"table":"topmem","first_time":1579904925696,"latest_time":1579905056768,"intervals":2,"all rows":163,"namespaces":1,"devices":9},{"table":"vlan","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":16,"namespaces":1,"devices":4},{"table":"TOTAL","first_time":1579904925696,"latest_time":1579905056768,"intervals":2,"all rows":1763,"namespaces":1,"devices":14}]
    marks: tables show filter

  - command: table show --view=latest --format=json
    data-directory: tests/data/basic_dual_bgp/parquet-out
    output: |
      [{"table":"arpnd","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":75,"namespaces":1,"devices":14},{"table":"bgp","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":32,"namespaces":1,"devices":9},{"table":"fs","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":374,"namespaces":1,"devices":14},{"table":"ifCounters","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":396,"namespaces":1,"devices":14},{"table":"interfaces","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":138,"namespaces":1,"devices":14},{"table":"lldp","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":44,"namespaces":1,"devices":10},{"table":"macs","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":39,"namespaces":1,"devices":5},{"table":"mlag","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":4,"namespaces":1,"devices":4},{"table":"routes","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":246,"namespaces":1,"devices":14},{"table":"system","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":14,"namespaces":1,"devices":14},{"table":"time","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":14,"namespaces":1,"devices":14},{"table":"topcpu","first_time":1579904925696,"latest_time":1579905056768,"intervals":2,"all rows":208,"namespaces":1,"devices":14},{"table":"topmem","first_time":1579904925696,"latest_time":1579905056768,"intervals":2,"all rows":163,"namespaces":1,"devices":9},{"table":"vlan","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":16,"namespaces":1,"devices":4},{"table":"TOTAL","first_time":1579904925696,"latest_time":1579905056768,"intervals":2,"all rows":1763,"namespaces":1,"devices":14}]
    marks: tables show filter
    
  - command: table show --hostname=leaf01 --format=json
    data-directory: tests/data/basic_dual_bgp/parquet-out
    output: |
      [{"table":"arpnd","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":8,"namespaces":1,"devices":1},{"table":"bgp","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":2,"namespaces":1,"devices":1},{"table":"fs","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":42,"namespaces":1,"devices":1},{"table":"ifCounters","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":48,"namespaces":1,"devices":1},{"table":"interfaces","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":16,"namespaces":1,"devices":1},{"table":"lldp","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":4,"namespaces":1,"devices":1},{"table":"macs","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":9,"namespaces":1,"devices":1},{"table":"mlag","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":1,"namespaces":1,"devices":1},{"table":"routes","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":20,"namespaces":1,"devices":1},{"table":"system","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":1,"namespaces":1,"devices":1},{"table":"time","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":1,"namespaces":1,"devices":1},{"table":"topcpu","first_time":1579905056768,"latest_time":1579905056768,"intervals":1,"all rows":8,"namespaces":1,"devices":1},{"table":"topmem","first_time":1579904925696,"latest_time":1579905056768,"intervals":2,"all rows":20,"namespaces":1,"devices":1},{"table":"vlan","first_time":1579904925696,"latest_time":1579904925696,"intervals":1,"all rows":4,"namespaces":1,"devices":1},{"table":"TOTAL","first_time":1579904925696,"latest_time":1579905056768,"intervals":2,"all rows":184,"namespaces":1,"devices":1}]
    marks: tables show filter
